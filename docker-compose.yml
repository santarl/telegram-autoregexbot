services:
  autoregexbot:
    build: .
    container_name: telegram-autoregexbot
    restart: unless-stopped
    
    # Mount config files and database for persistence
    volumes:
      - ./autoregexbot.cfg:/app/autoregexbot.cfg
      - ./secrets.cfg:/app/secrets.cfg
      - ./reminders.db:/app/reminders.db
    
    # Optional: Pass token via ENV instead of secrets.cfg
    # environment:
    #   - BOT_TOKEN=your_token_here
    
    # Logging configuration (optional, limits log size)
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"